<!DOCTYPE html>
<html lang="en">
<!-- Head partial -->
<%- include("partials/_head", { page: "View Reports" }) %>
<body>
  <!-- Nav Partial -->
  <%- include("partials/_nav") %>

  <!-- Security Classification -->
  <%- include("partials/_security_classification", { classification: "unclassified" }) %>
  
  <!-- View Reports -->
  <table id="reports-table" class="table table-sm table-bordered table-striped table-hover">
    <thead class="thead-dark">
      <% rowTitles = [
        "ID", "Event Date", "Year", "Event Type", "Sub Event Type",
        "Actor 1", "Actor Association", "Actor 2", "Actor 2 Association",
        "Country", "Admin 1", "Admin 2", "Latitude", "Longitude", "Source",
        "Notes", "Fatalities", "Timestamp"
        ]
      %>
      <tr>
        <% rowTitles.forEach(title => { %>
          <th class="text-center" data-sortable="true"><%= title %></th>
        <% }) %>
      </tr>
    </thead>
    <tbody>
      <% Object.values(reports).forEach(report => { %>
        <%- include("partials/_report_table_row", { report: report }); %>
      <% }) %>
    </tbody>
  </table>

<!-- View Specific Scripts -->
<script type="text/javascript" src="js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="js/dataTables.bootstrap4.min.js"></script>
<link rel="stylesheet" type="text/css" href="/stylesheets/dataTables.bootstrap4.min.css">

<!-- On load, convert the table to a data table -->
<script>
  $(document).ready( function () {
    $('#reports-table').DataTable();
  }); 
</script>
</body>
</html>